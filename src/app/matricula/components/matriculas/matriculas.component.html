<div *ngIf="cargando" class="loading-container">
  <div class="spinner"></div>
  <p>Cargando vacantes...</p>
</div>

<div *ngIf="!cargando">
  <ng-container *ngFor="let nivel of niveles">
    <h2>{{ nivel.nombre }}</h2>
    <div class="card-container">
      <div class="card" *ngFor="let grado of nivel.grados">
        <div class="front">
          <span class="icon">üéì</span>
          <h3>Grado {{ grado }}</h3>
        </div>
        <div class="back">
          <p>
            <span class="icon">‚ÑπÔ∏è</span>
            Vacantes:
            <span *ngFor="let sec of ((nivel.vacantes?.[grado] || {}) | keyvalue)">
              <span class="icon">‚úÖ</span> {{ sec.key }}: {{ sec.value }}
            </span>
          </p>
          <button
            *ngIf="hayVacantes(nivel.vacantes?.[grado] || {})"
            (click)="matricular(nivel.nombre, grado)"
            class="button">
            <span class="icon">‚û°Ô∏è</span> MATRICULAR
          </button>
        </div>
      </div>
    </div>
  </ng-container>
</div>
